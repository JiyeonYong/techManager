<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace = "notice">
	<select id = "getCurrentPage" parameterType="map" resultType = "Notice">
		select id as noticeId,
			   title as title;
			   contents as contents,
			   author_id as authorId,
			   comments as comments,
			   views as views,
			   reg_date as regDate
		from (select notice_board.*, row_number() over(order by id desc) as rnum from notice_board) 
		where rnum between #{start} and #{end}
	</select>
	
	<select id = "getCurrentPage1" resultMap = "Notice">
		select id as noticeId,
			   title as title;
			   contents as contents,
			   author_id as authorId,
			   comments as comments,
			   views as views,
			   reg_date as regDate
		from notice_board
	</select>
	
	<select id = "getPageNavi" resultType = "int">
		select count(*) from notice_board
	</select>
  
</mapper>
